<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<title>JSF and PrimeFaces</title>
	<h:outputStylesheet>
		.jqplot-series-canvas {
			background: white;
		}

		.ui-datatable td {
			font-size: 10px;
		}

		body .ui-datatable thead th .ui-column-title {
			font-size: 10px;
		}
	</h:outputStylesheet>
</h:head>

<h:body>
	<p:outputPanel>
		<ui:insert name="header">
			<ui:include src="/WEB-INF/templates/header.xhtml" />
		</ui:insert>


		<div class="ui-g">
			<div class="ui-g-2"></div>
			<div class="ui-g-8">
				<h2 style="text-align: center">Applications with JSF 2.3 and
					PrimeFaces: download File</h2>
				<p:outputPanel>


					<div class="ui-g">
						<div class="ui-g-2"></div>
						<div class="ui-g-8">
							<h:form id="welcomelogin">
								<h:panelGrid columns="1" cellpadding="5" style="margin: 0 auto;">
									<p:growl id="messages" showDetail="true" />
									
									<p:dialog modal="true" widgetVar="statusDialog" header="Status"
										draggable="false" closable="false" resizable="false">
										<p:graphicImage name="/images/ajaxloadingbar.gif" />
									</p:dialog>

									<h:form id="form">

										<p:commandButton id="downloadLink" value="Download" ajax="false"
											onclick="PrimeFaces.monitorDownload(start, stop)"
											icon="ui-icon-arrowthichk-s">
											<p:fileDownload value="#{fileDownloadView.file}" />
										</p:commandButton>

									</h:form>
									<script type="text/javascript">
											function start() {
												statusDialog.show();
											}
									
											function stop() {
												statusDialog.hide();
											}
									</script>
								</h:panelGrid>
							</h:form>
						</div>
						<div class="ui-g-2"></div>
					</div>
				</p:outputPanel>
			</div>
			<div class="ui-g-2" />
		</div>
		<ui:insert name="footer">
			<ui:include src="/WEB-INF/templates/footer.xhtml" />
		</ui:insert>
	</p:outputPanel>
</h:body>
</html>









